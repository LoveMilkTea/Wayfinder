{"version":3,"sources":["../../src/pages/admin/admin.module.ts","../../src/pages/admin/admin.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AdminPage } from './admin';\n\n@NgModule({\n  declarations: [\n    AdminPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AdminPage),\n  ],\n})\nexport class AdminPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/admin/admin.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ToastController } from 'ionic-angular';\nimport { AngularFireAuth } from \"angularfire2/auth\";\nimport {FirebaseProvider} from \"../../providers/firebase/firebase\";\nimport {SubmitDataChooseCoordsPage} from \"../submit-data-choose-coords/submit-data-choose-coords\";\n\n@IonicPage()\n@Component({\n    selector: 'page-admin',\n    templateUrl: 'admin.html',\n})\nexport class AdminPage {\n    items: string[];\n    filterValue: any;\n\n    constructor(private afAuth: AngularFireAuth, private toast: ToastController, public navCtrl: NavController, public navParams: NavParams, public database: FirebaseProvider) {\n        this.filterValue = 'showAll';\n    }\n\n    ionViewDidLoad() {\n        const item = [];\n        this.database.userInput.once('value').then(function (datakey) {\n            datakey.forEach(function (data) {\n                const temp = data.val();\n                Object.assign(temp, {\n                    'key': data.key\n                });\n                item.push(temp);\n            });\n        });\n        this.items = item;\n    }\n\n    capitalizeFirstLetter(string) {\n        return string.charAt(0).toUpperCase() + string.slice(1);\n    }\n\n    approve(value) { // 'value' is the key for the entry\n        this.database.userInput.child(value.key).update({'status': 'approved'});\n        this.database.masterData = this.database.masterData.push();\n        this.database.masterData.set({\n            'name': value.pointName,\n            'address': value.address,\n            'lat': value.latitude,\n            'lng': value.longitude,\n            'description': value.description,\n            'number': value.phone,\n            'website': value.website,\n            'type': value.type\n        });\n        this.filterItems(this.filterValue);\n        //this.navCtrl.setRoot(this.navCtrl.getActive().component);\n    }\n\n    deny(value) {\n        this.database.userInput.child(value.key).update({'status': 'denied'});\n        this.filterItems(this.filterValue);\n    }\n\n    editData(value) {\n        this.navCtrl.push('EditSubmitDataPage', value);\n    }\n\n    deleteItem(value) { // 'value' is the key for the entry\n        this.database.userInput.child(value.key).remove();\n        this.filterItems(this.filterValue); // refresh the page\n    }\n    filterItems(value) {\n        this.filterValue = value;\n        const item = [];\n        this.database.userInput.once('value').then(function (datakey) {\n            datakey.forEach(function (data) {\n                const temp = data.val();\n                Object.assign(temp, {\n                    'key': data.key\n                });\n                if (value === 'showAll') {\n                    item.push(temp);\n                } else if (temp.status === value){\n                    item.push(temp);\n                }\n            });\n        });\n        this.items = item;\n    }\n\n    async logout() {\n        const result = await this.afAuth.auth.signOut();\n        this.navCtrl.setRoot('HomePage');\n    }\n\n    checkCoords(item){\n        this.navCtrl.push(SubmitDataChooseCoordsPage, item);\n        console.log(item);\n    }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/admin/admin.ts"],"sourceRoot":""}